{"openapi":"3.0.1","info":{"title":"Turbolessons Event Service API","description":"API for managing lesson events in the Turbolessons platform","contact":{"name":"Turbolessons Support","url":"https://turbolessons.com","email":"support@turbolessons.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"1.0.0"},"servers":[{"url":"/","description":"Default Server URL"},{"url":"http://localhost:8080","description":"Local development"},{"url":"https://nelsonjohns.com","description":"Production environment"}],"tags":[{"name":"Lesson Events","description":"API for managing lesson events"}],"paths":{"/api/lessons/{id}":{"get":{"tags":["Lesson Events"],"summary":"Get lesson by ID","description":"Retrieves a specific lesson event by its ID","operationId":"getLessonById","parameters":[{"name":"id","in":"path","description":"ID of the lesson to retrieve","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"Lesson not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LessonEvent"}}}},"200":{"description":"Successfully retrieved the lesson","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonEvent"}}}}}},"put":{"tags":["Lesson Events"],"operationId":"updateLesson","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonEvent"}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["Lesson Events"],"operationId":"deleteLesson","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK"}}}},"/api/lessons":{"get":{"tags":["Lesson Events"],"summary":"Get all lesson events","description":"Retrieves all lesson events from the system","operationId":"getAllLessons","responses":{"200":{"description":"Successfully retrieved all lessons","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonEvent"}}}}}},"post":{"tags":["Lesson Events"],"summary":"Create a new lesson event","description":"Creates a new lesson event in the system","operationId":"createLesson","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonEvent"}}},"required":true},"responses":{"200":{"description":"Successfully created the lesson","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LessonEvent"}}}},"400":{"description":"Invalid lesson data provided","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LessonEvent"}}}}}}},"/api/lessons/{id}/billing/{status}":{"patch":{"tags":["Lesson Events"],"operationId":"updateLessonBillingStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"status","in":"path","required":true,"schema":{"type":"string","enum":["UNLOGGED","LOGGED","INVOICED","PAID"]}}],"responses":{"200":{"description":"OK"}}}},"/api/lessons/{teacher}/{date}":{"get":{"tags":["Lesson Events"],"operationId":"getLessonsByTeacherAndDate","parameters":[{"name":"teacher","in":"path","required":true,"schema":{"type":"string"}},{"name":"date","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonEvent"}}}}}}}},"/api/lessons/teacher/{teacher}":{"get":{"tags":["Lesson Events"],"operationId":"getLessonsByTeacher","parameters":[{"name":"teacher","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonEvent"}}}}}}}},"/api/lessons/teacher/{teacher}/billing/{status}":{"get":{"tags":["Lesson Events"],"operationId":"getLessonsByTeacherAndBillingStatus","parameters":[{"name":"teacher","in":"path","required":true,"schema":{"type":"string"}},{"name":"status","in":"path","required":true,"schema":{"type":"string","enum":["UNLOGGED","LOGGED","INVOICED","PAID"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonEvent"}}}}}}}},"/api/lessons/student/{student}":{"get":{"tags":["Lesson Events"],"operationId":"getLessonsByStudent","parameters":[{"name":"student","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonEvent"}}}}}}}},"/api/lessons/date/{date}":{"get":{"tags":["Lesson Events"],"operationId":"getLessonsByDate","parameters":[{"name":"date","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonEvent"}}}}}}}},"/api/lessons/billing/{status}":{"get":{"tags":["Lesson Events"],"operationId":"getLessonsByBillingStatus","parameters":[{"name":"status","in":"path","required":true,"schema":{"type":"string","enum":["UNLOGGED","LOGGED","INVOICED","PAID"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonEvent"}}}}}}}},"/api/lessons/billing/{status}/daterange":{"get":{"tags":["Lesson Events"],"operationId":"getLessonsByDateRangeAndBillingStatus","parameters":[{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date"}},{"name":"status","in":"path","required":true,"schema":{"type":"string","enum":["UNLOGGED","LOGGED","INVOICED","PAID"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LessonEvent"}}}}}}}}},"components":{"schemas":{"LessonEvent":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"startTime":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"title":{"type":"string"},"student":{"type":"string"},"studentEmail":{"type":"string"},"teacher":{"type":"string"},"teacherEmail":{"type":"string"},"date":{"type":"string","format":"date"},"comments":{"type":"string"},"billingStatus":{"type":"string","enum":["UNLOGGED","LOGGED","INVOICED","PAID"]}}}}}}